var isMobile=!1,mobileDimensionLimit=480,htmlSelection=htmlSelection||"h1,h2,h3,h5,input:not([type=image],[type=button],[type=submit],input[data-hj-masked]),h4.clickeable,label,strong,b,ul,a,p,div:not(:has(*)),button.dropdown-toggle",htmlFilter=htmlFilter||"ul.nav-sidebar, ul.nav-sidebar > li > a,a.logo,.btn-caps, div.table-row, div.hidden-xs > button.btn, .notSensible,[data-hj-masked]";function getIsMobile(){return isMobile||$(window).width()<mobileDimensionLimit}function getIsDevice(){return/Tablet|iPad|Mobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|Blackberry|PlayBook|BB10|Opera Mini|\bCrMo\/|Opera Mobi/i.test(navigator.userAgent.toLowerCase())}function ocultarTooltip(){$(".tooltip").each(function(e){$(this).hide()})}function agregarTooltipsFima(){0<$(".icono_Fima").length&&$(".icono_Fima").each(function(){$(this).tooltip({show:!0,placement:"top",title:$(this).data("hover"),tooltipClass:"tooltip",trigger:"hover"}),agregarIconoAyudaTooltip($(this))})}function agregarIconoAyudaTooltip(e){var t=$("<i href='javascript:void(0)' class='icon-help hidden-xs hidden-lg'></i>");null!=navigator.userAgent.match(/Android/i)&&t.removeClass("hidden-lg"),e.after(t),t.tooltip({show:!0,placement:"top",title:e.data("hover"),tooltipClass:"tooltip"})}function updateInputs(){$("input.form-control").each(function(){var e=$(this).closest(".inputArea");$(this);0!=this.value?e.addClass("typed"):e.removeClass("typed")})}$(document).ready(function(){var e=$(window).width()+$(window).height();$(window).resize(function(){isMobile=$(window).width()<mobileDimensionLimit,fixBottomBlur(),fixedFooter(),$(window).width()+$(window).height()!=e&&$(".styleBlur").remove()}),$(window).on("hidden.bs.modal",function(e){$(".modal-backdrop.fade.in").length&&$(".modal-backdrop.fade.in").remove()}),$(window).on("shown.bs.modal",function(e){}),closeDropdown(),$(window).innerWidth()<=700&&fixModal()}),$(window).on("load",function(){fixBottomBlur(),$(document).ajaxComplete(function(e,t,i){fixBottomBlur(),-1!=i.url.indexOf("refreshear-caja-puntas")&&fixPerfil()}),$(window).bind("orientationchange",function(e){fixBottomBlur()})});var capsLockEnabled=null;function checkWarning(e){capsLockEnabled=capsLockEnabled?(0<e.find(".capsLock").length&&e.addClass("isCapsOn"),!0):(e.removeClass("isCapsOn"),!1)}function inputsEfect(){document.msCapsLockWarningOff=!0;void 0!==document.msCapsLockWarningOff&&!document.msCapsLockWarningOff||(getIsMobile()||getIsDevice()?$("input").on("keyup",function(e){var t;$(this).hasClass("capsLockEspecial")||(t=$(this).val()[$(this).val().length-1])&&t.toLowerCase()!==t.toUpperCase()&&(capsLockEnabled=t.toUpperCase()==t)}):$(document).on("keydown",function(e){var t=e.key;!t||t.toLowerCase()===t.toUpperCase()||1<t.length&&"CapsLock"!=t||(capsLockEnabled=t.toLowerCase()===t&&e.shiftKey||t.toUpperCase()===t&&!e.shiftKey)}));var e=$("input.form-control");/iphone/i.test(navigator.userAgent.toLowerCase());e.each(function(){var t=$(this).closest(".inputArea"),e=t.find(".inputLabel"),i=$(this);e.on("click",function(e){i.focus()}),$(i).is(":focus")&&t.addClass("focus"),checkWarning(t),0!=this.value&&t.addClass("typed"),i.on("focus blur",function(e){"focus"===e.type?t.addClass("focus"):t.removeClass("focus"),t.toggleClass("typed",""!==i.val()),(getIsMobile()||getIsDevice())&&(capsLockEnabled=!1),checkWarning(t)}).on("input",function(e){i.toggleClass("typed",""!==i.val()),t.toggleClass("typed",""!==i.val()),checkWarning(t),i.is(":focus")&&t.toggleClass("typed",""!==i.val())}).on("keyup",function(){var e=$(this).val();checkWarning(t),""!=e?$(this).closest(".inputArea").addClass("typed"):$(this).closest(".inputArea").removeClass("typed")}).on("touchstart touchend",function(e){t.addClass("focus")})}),$(".showPassword").not(".login").each(function(){$(this).on("touchstart touchend, mousedown",function(e){$(this).closest(".inputArea").find("input.hidden-control").attr("type","text")}),$(this).on(" touchleave, mouseup mouseleave",function(e){$(this).closest(".inputArea").find("input.hidden-control").attr("type","password")})}),$(".showPassword.login").each(function(){$(this).on("touchstart touchend, mousedown",function(e){$(this).closest(".inputWrapper").addClass("showtext")}),$(this).on(" touchleave, mouseup mouseleave",function(e){$(this).closest(".inputWrapper").removeClass("showtext")})})}function closeAlert(){0<$(".msg-alert").length&&($(".msg-alert + div").addClass("push-msg"),$(".msg-alert a.icon-close").on("click",function(e){e.preventDefault(),$(".sidebar").animate({top:"-=84"},500,function(){}),$(".msg-alert").animate({marginTop:"-=84"},500,function(){$(".push-msg").removeClass("push-msg"),$(".msg-alert").remove()})}))}function openPanel(e){e.addClass("is-visible"),$("body").addClass("side-open"),e.find(".cd-panel:after").animate({opacity:"1"},5e3,function(){}),e.find(".cd-panel-container").animate({right:"0"},500,function(){})}function bindClosePanel(t){$("#"+t).on("click",function(e){($(e.target).is(".cd-panel")||$(e.target).is(".cd-panel-close"))&&(closePanel($("#"+t)),e.preventDefault())})}function closePanel(e){e=e||$(".cd-panel"),$(".cd-panel-container").animate({right:"-420px"},500,function(){e.removeClass("is-visible"),$("body").removeClass("side-open")})}function fixedMenu(){var t;0<$(".sidebar").length&&(t=$(".sidebar").offset().top,$(window).scroll(function(){var e=$(window).scrollTop();t<=e?$(".sidebar").addClass("fixed"):$(".sidebar").removeClass("fixed")}))}function fixedFooter(){var e;$(".table-footer").find(".fixed-info").length&&(e=$(".table-footer").width(),$(".fixed-info").width(e),fixMarginBottom())}function fixMarginBottom(){footer=$(".fixed-info").height(),table=$(".table-container").height(),$(".table-container").css("margin-bottom",footer+50)}function fixedHeader(){window.addEventListener("scroll",function(e){var t=window.pageYOffset||document.documentElement.scrollTop,i=$(".page-header:not(.highlight)");10<t?(i.addClass("fixed"),$(".navbar-default").addClass("fixed")):(i.removeClass("fixed"),$(".navbar-default").removeClass("fixed"))})}function fixPerfil(){0<$(".highlight").length&&(fixPadding(),$(window).resize(function(){setTimeout(fixPadding,200)}),window.addEventListener("scroll",function(e){var t=window.pageYOffset||document.documentElement.scrollTop,i=height-height/4;$(window).width()<700?i<t?header.addClass("sticky"):(header.removeClass("sticky"),fixPadding()):i<t?(eHeight=$(".highlight").outerHeight())>height-2&&(navigator.userAgent.match(/Tablet|iPad|Mobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|Blackberry|PlayBook|BB10|Opera Mini|\bCrMo\/|Opera Mobi/i)?header.addClass("sticky"):($(".highlight").css("height","84px"),header.addClass("sticky"),header.removeAttr("style"))):header.hasClass("sticky")&&(header.removeClass("sticky"),setTimeout(function(){fixPadding()},200))}))}function fixPadding(){header=$(".highlight"),height=header.outerHeight(),header.nextAll("div:first").css("margin-top",height+"px")}function inputWidth(){$(".inputWrapper.large").each(function(){var e=$(this).find(".inputLabel");$(this).width(e.width()+15)})}function inputAutosize(){/iphone/i.test(navigator.userAgent.toLowerCase());$(".inputAutosize").each(function(){var t,i=$(this).find(".copycat"),a=($(this).find(".inputAuto").on("input",function(){var e=$(this).val();i.html(""===e?"":e),$(this).hasClass("cuit")?$(this).width(i.width()+15):$(this).width(i.width()+5),$(this).is(":focus")&&$(this).closest(".inputAutosize").toggleClass("typed",""!==e),$(this).attr("type")&&$(this).attr("value")&&$(this).attr("type").match(/^(text|search|password|tel|url)$/i)&&$(this).setCursorPosition($(this).val().length)}),$(this).find(".inputAuto").width(i.width()),$(this).closest(".inputAutosize")),o=$(this).find(".inputAuto");$(o).is(":focus")&&a.addClass("focus"),$(this).find(".inputAuto").on("focus blur",function(e){"focus"===e.type?a.addClass("focus"):a.removeClass("focus"),a.toggleClass("typed",""!==$(this).val()).on("input",function(){a.toggleClass("typed",""!==o.val()),""==a.find(".inputAuto").val()&&$(this).find(".inputAuto").width(t)}),0<a.find(".placeholder").length&&""==a.find(".inputAuto").val()&&(i.html(a.find(".placeholder").html()),$(this).width(i.width()+5))}),""!=a.find(".inputAuto").val()&&(i.html(a.find(".inputAuto").val()),$(this).find(".inputAuto").width(i.width()+5),a.addClass("typed")),0<a.find(".placeholder").length&&(pWidth=a.find(".placeholder").width(),a.find(".inputAuto").css("min-width",pWidth+"px"),""==a.find(".inputAuto").val()&&(i.html(a.find(".placeholder").html()),$(this).find(".inputAuto").width(i.width()+5),t=$(this).find(".inputAuto").width()),a.find(".placeholder").click(function(){a.addClass("focus"),a.find(".inputAuto").focus(),a.find(".inputAuto").select()}))})}function btnTooltip(){0<$(".btn-tooltip").length&&$(".btn-tooltip").each(function(){var e=$("<i href='#' class='icon-help hidden-xs hidden-lg'></i>"),t=$(this).attr("data-cotizacion"),i=$(this).attr("data-name");e.attr("data-cotizacion",t),e.attr("data-name",i),null!=navigator.userAgent.match(/Android/i)&&e.removeClass("hidden-lg"),$(this).after(e),e.tooltip({show:!0,placement:"top",title:"Cotización del día "+$(this).attr("data-cotizacion"),tooltipClass:"tooltip"})})}function hiddenMenu(){0<$(".highlight").length&&(0<$(".detail-for-overview").length?$(".navbar-default").addClass("detail-for-overview"):$(".navbar-default").addClass("hidden"))}function showMenu(){width=jQuery(window).width(),jQuery(window).resize(function(){width=jQuery(window).width()}),$(".navbar-toggle").on("click",function(e){e.preventDefault(),$(".sidebar").addClass("in"),$("body").addClass("side-open"),$(".sidebar").animate({left:"0"},300,function(){})}),$(".main").on("click",function(e){width<993&&0<$(".sidebar.in").length&&($("body").removeClass("modal-open"),$(".sidebar").animate({left:"-250px"},300,function(){$(".sidebar").removeClass("in"),$(".sidebar").removeAttr("style"),$("body").removeClass("side-open")}))})}function showErrorModal(e,t){if(!$("#modal-error-function").hasClass("in"))return e='<div id="modal-error-function" class="modal fade" tabindex="-1" role="dialog" style="z-index: 10999"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h3>'+e+'</h3></div><div class="modal-body"><p>'+t+'</p></div><div class="modal-footer"><a href="#" class="btn btn-caps" data-dismiss="modal">aceptar</a></div></div></div></div>',$("#mainModalContainer").html("").append(e),$("#modal-error-function").modal({backdrop:"static",keyboard:!1}),$("#modal-error-function").on("keyup",function(e){e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}),!1}function showHBModal(e,t,i){$.HBModal.options.body=i,$.HBModal.options.header.label=t,$.HBModal.options.modalType=e,$.HBModal.showModal()}function carouselEffect(){$(".carousel").customcarousel({watchCSS:!0,cellAlign:"left",contain:!0,prevNextButtons:!1,pageDots:!1,freeScroll:!0})}function showShadow(){0<$(".highlight").length&&$(".sidebar").addClass("shadow")}function dropdownMobile(){var t=/ipad/i.test(navigator.userAgent.toLowerCase());function i(e){var t,i,a,o;0<e.length&&(o=(t=e.siblings(".dropdown-menu")).outerHeight(),i=$(window).height(),$("body").height(),e=e.offset().top+e.outerHeight(),o=(a=$(window).scrollTop())+(a=e-a+o-i)+10,t.parent().parent().parent().hasClass("page-header")&&(e+=10),0<a&&(navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)?(o-=10,window.scrollTo(0,o)):$("html, body").animate({scrollTop:o},200,function(){$("html").attr("style","overflow:hidden")})),t.offset({top:e}),$("body").attr("style","display:block"))}$(document).on("shown.bs.dropdown",function(e){$(window).width()<760?($("body").addClass("open-drop"),i($(e.relatedTarget))):t&&i($(e.relatedTarget))}),$(document).on("hidden.bs.dropdown",function(e){$(window).width()<760?($("body").removeClass("open-drop"),$("html").removeAttr("style")):t&&i($(e.relatedTarget)),$(".dropdown-menu.picker").removeAttr("style")}),$(window).resize(function(){$(window).width()<760?i($(document).find(".dropdown.open .btn")):t&&i($(event.relatedTarget))})}function stopBodyScrolling(e){!0===e?document.getElementsByClassName("main")[0].addEventListener("touchmove",freezeVp,!1):document.getElementsByClassName("main")[0].removeEventListener("touchmove",freezeVp,!1)}function btnRippled(){$(".btn-default").on("click",function(e){(elem=$(this)).addClass("btn-rippled");var t=$("<div/>"),i=$(this).offset(),a=e.pageX-i.left,e=e.pageY-i.top,i=(t.addClass("ripple-effect"),$(".ripple-effect"));i.css("height",$(this).height()),i.css("width",$(this).height()),t.css({top:e-25,left:a-25,background:$(this).data("ripple-color")}).appendTo($(this)),window.setTimeout(function(){t.click(!1),t.remove(),elem.removeClass("btn-rippled")},1200)})}function contentScroll(){var e,t,i,a,o,n;0<$(".content-section").length&&(a=$(".page-header").outerHeight(),(e=$(".content-section > div:first-child")).removeAttr("style"),t=e.outerHeight(),o=$(".content-bottom").outerHeight(),n=(o=(i=$(window).height())-(a=a+o))-15,t<o?e.css("height",i-a+"px"):(e.css("overflow-y","scroll"),e.css("max-height",n+"px")))}function contentFix(){var e,t,i,a;0<$(".content-section").length&&($(".content-bottom").addClass("relative"),a=$(".page-header").outerHeight(),(e=$(".content-section > div:first-child")).removeAttr("style"),t=e.outerHeight()+30,i=$(".content-bottom").innerHeight(),$(".content-bottom .btn").outerHeight(),a=$(window).height()-(a+i)-20,992<(i=$(window).width())?t<a?e.css("height",a+"px"):e.css("height",t+"px"):700<i?($(".content-bottom").removeClass("relative"),e.css("overflow-y","scroll"),e.css("height",a-50+"px")):$(".content-bottom").removeClass("relative"))}function inputLowerCase(){$("input.alphanumeric_min").attr("autocapitalize","none")}function mostrarAlertaEncabezado(e){$("#PWarning").html(e),$("#HeadWarning").addClass("msg-alert"),$(".navbar-toggle").addClass("nav-padding-top"),$("#HeadWarning").show()}function closeDropdown(){/ipad|iphone|ipod/i.test(navigator.userAgent.toLowerCase())&&$(document).unbind("touchend").on("click touchend",function(e){$(e.target).parents(".dropdown-menu").length<1&&$(".dropdown").hasClass("open")&&($(".dropdown").removeClass("open"),$("body").hasClass("open-drop"))&&($("body").removeClass("open-drop"),$("body").removeAttr("style"))})}function fixBottomBlur(){$("body style").hasClass("styleBlur")&&$("body").find(".styleBlur").remove();var e,t=0,i=(700<=window.innerWidth&&window.innerWidth>window.innerHeight&&(t=10),!1);1<=$(document).find(".content-bottom").length&&(1<=$(".content-bottom").find(".content-bottom-text.check-desc").length&&(i=!0),$(".content-bottom").children().each(function(){$(this).hasClass("cd-panel")||(e=$(this).outerHeight(),t+=e)})),0==i&&1<=$(document).find(".content-bottom-text.check-desc").length&&(t+=$(".content-bottom-text.check-desc").outerHeight()),$("body").append('<style class="styleBlur">        .content-bottom:before {            content: "";            position: fixed;            bottom:'+t+'px;            height: 25px;            width: 100%;            left: 0;            background: -moz-linear-gradient(top, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 1%, rgba(255,255,255,0.99) 99%, rgba(255,255,255,1) 100%);            background: -webkit-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 1%,rgba(255,255,255,0.99) 99%,rgba(255,255,255,1) 100%);            background: linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 1%,rgba(255,255,255,0.99)99%,rgba(255,255,255,1)100%);            filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#ffffff",GradientType=0 );        }    </style>')}function fixModal(){$(window).on("show.bs.modal",function(e){setTimeout(function(){250<$("#modal-id .modal-content").height()&&$("#modal-id").addClass("xxl")},200)})}function inputExtraInfo(){$(".inputAutosize .extra-content").on("click",function(){$(".inputAutosize input").focus()})}function toLowerCapitalize(){var e;$(".text-capitalize").each(function(){e=$(this).text().toLowerCase(),$(this).text(e)})}function setTooltips(){var e;$('[data-toggle="tooltip"]').each(function(){e=$(this).attr("data-content"),$(this).tooltip({show:!0,placement:"auto",title:e,tooltipClass:"tooltip",trigger:"hover"})})}function updateTooltips(){$('[data-toggle="tooltip"]').each(function(){content=$(this).attr("data-content"),$(this).tooltip("hide").attr("data-original-title",content)})}$.fn.setCursorPosition=function(i){return this.each(function(e,t){t.setSelectionRange?t.setSelectionRange(i,i):t.createTextRange&&((t=t.createTextRange()).collapse(!0),t.moveEnd("character",i),t.moveStart("character",i),t.select())}),this},window.bcSmartLoad=function(){var e=getCookie("R2D2"),t=getCookie("Luke");if(t&&""!==t){var i=document.location.pathname.replace(/[`~!@#$%^&*()_|+\-=?;:,.]/gi,""),a=("_"==(i=(i="/"===i[0]?i.substring(1):i).replace(/\//g,"_"))[i.length-1]&&(i=i.substring(0,i.length-1)),sessionStorage.getItem("isbcjs")),o=(window.self===window.top&&(window.onbeforeunload=function(){sessionStorage.removeItem("isbcjs")}),document.createElement("script"));if(o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null)}:o.onload=function(){try{cdApi.setCustomerSessionId(t),cdApi.changeContext(i)}catch(e){console.error("Error while trying to set CSID and/or Context: "+e)}},o.src=e,"true"!=a)document.getElementsByTagName("head")[0].appendChild(o),sessionStorage.setItem("isbcjs","true");else try{cdApi.setCustomerSessionId(t),cdApi.changeContext(i)}catch(e){console.error("Error while trying to set CSID and/or Context: "+e)}}};try{var csid=getCookie("Luke");csid&&""!=csid&&(bcSmartLoad(),setTimeout(function(){if($("#LogOut_a").length){for(var e=$._data($("#LogOut_a")[0],"events").click,t=[],i=0;i<e.length;i++)t.push(e[i].handler);$("#LogOut_a").off("click"),$("#LogOut_a").click(resetBc);for(i=0;i<t.length;i++)$("#LogOut_a").click(t[i])}},400))}catch(e){console.error(e)}function resetBc(){setCookie("Luke","")}function getCookie(e){e=("; "+document.cookie).split("; "+e+"=");if(2===e.length)return e.pop().split(";").shift()}function setCookie(e,t,i){var a,o="";i&&((a=new Date).setTime(a.getTime()+24*i*60*60*1e3),o="; expires="+a.toUTCString()),document.cookie=e+"="+(t||"")+o+"; domain=.bancogalicia.com.ar ; path=/"}var modal=null,widthGuia=$(window).width(),heightGuia=$(window).height(),overlayGuia='<div class="overlay-guia on hidden"></div>',botonSalir='<a name="Salir" class="pull-left btn btn-caps" href="javascript:void(0)" onclick="guiaNoInteresa(%data-codigo%, %data-esVoluntaria%);">Salir</a>',botonSiguiente='<a name="Siguiente" id="next" class="pull-right btn btn-caps"  href="javascript:void(0)" onclick="mostrarProximaGuia(%data-actual%, %data-proximo%);">Siguiente</a>',botonAnterior='<a name="Anterior" id="previous" class="pull-right btn btn-caps" href="javascript:void(0)" onclick="mostrarProximaGuia(%data-actual%, %data-proximo%);">Anterior</a>',botonFinalizar='<a name="Finalizar" id="finish" class="pull-right btn btn-caps" href="javascript:void(0)" onclick="terminarGuia(%data-codigo%, %data-esVoluntaria%)">Finalizar</a>',espacio='<div class="clearfix"></div>',botonEntendido='<a name="Entendido" id="entendido" class="pull-right btn btn-caps" href="javascript:void(0)" onclick="terminarGuia(%data-codigo%, %data-esVoluntaria%)">Entendido</a>',mantle='<div class="mantle off"></div>',hole="<div class='hole off' data-id='%data-id%' data-secuencia='%data-secuencia%' data-ubicacion='%data-ubicacion%' data-attachedTo='%data-attachedto%'></div>",guiaIniciada=!1,diferenciaPixels=5,listaMensajes=[],contentGuia='<div id="content" class="hidden content-hidden-guia"><div id="%data-id%"><div name="messages"><p class="guiaMessage">%data-message%</p></div><div name="buttons">%data-buttons%</div></div></div>';function inicializarGuiaNovedad(e){if(!isDefined(e))return!1;guiaIniciada||inicializarGuia(e,!(guiaIniciada=!0))}function inicializarGuiaVoluntaria(e){if(!isDefined(e))return!1;guiaIniciada||inicializarGuia(e,guiaIniciada=!0)}function inicializarGuia(a,o){if(!isDefined(a))return!1;getJsonGuia(a).success(function(e){var t=e&&e.Mensajes,i=e&&e.CantidadMinimaMensajesMostrar,e=e.EsBurbuja;AttachGuia(a,t,!!o,i,e),AttachResizeGuia(a,t,!!o,i,e)}).error(function(e){cerrar()})}var resizeTimeout=null;function AttachResizeGuia(t,i,a,o,n){$(window).on("resize",function(e){$(window).width()==widthGuia&&$(window).height()==heightGuia||!guiaIniciada||(widthGuia=$(window).width(),heightGuia=$(window).height(),$(".hole").popover("hide"),$(".hole").popover("destroy"),$(".hole").remove(),$(".mantle").remove(),listaMensajes=[],modal=null,resizeTimeout=resizeTimeout||setTimeout(function(){AttachGuia(t,i,a,o,n),resizeTimeout=null},250))})}function AttachGuia(e,t,i,a,o){var t=ObtenerMensajesAMostrar(t),n=t.length;a&&n<a?terminarGuia(e,i):(precargarGuias(e,t,i,o),o?mostrarProximaGuia(0,0):modal&&($(window).width()<1200&&$(".page-header").hasClass("fixed")&&$("html, body").stop().animate({scrollTop:0},200,"swing"),modal.showModal()))}function precargarGuias(i,a,o,n){var s=a.length;$("body").append(mantle),$("body").addClass("no-overflow"),listaMensajes=[],1===s?(n?setUnicaBurbuja:setUnicoModal)(i,a[0],o,s):2===s?(n?(setPrimeraBurbuja(i,a[0],o,s),setSegundoYUltimoMensajeBurbuja):(setPrimerModal(i,a[0],o,s),setSegundoYUltimoMensaje))(i,a[1],o,s):$.each(a,function(e,t){0===e?(n?setPrimeraBurbuja:setPrimerModal)(i,a[0],o,s):1===e?setSegundoMensaje(i,t,o,s,n):(e===a.length-1?setUltimoMensaje:setMensajeIntermedio)(i,t,o,s)})}function setUnicoModal(t,e,i,a){setModal(t,e,{primaryButton:{enabled:!0,label:"ENTENDIDO",onClickCallBack:function(e){terminarGuia(t)}}},i,a)}function setUnicaBurbuja(t,e,i,a){setModal(t,e,{primaryButton:{enabled:!0,label:"ENTENDIDO",onClickCallBack:function(e){terminarGuia(t)}}},i,a);var o=$('<div id="buttons"></div>'),n=botonEntendido.replace("%data-codigo%",t).replace("%data-esVoluntaria%",i);$(o).append(n),setMensaje(t,e,i,a,o)}function setPrimeraBurbuja(e,t,i,a){setModal(e,t,void 0,i,a);var o=$('<div id="buttons"></div>'),n=botonSiguiente.replace("%data-actual%",t.secuencia).replace("%data-proximo%",t.secuencia+1),s=botonSalir.replace("%data-codigo%",e).replace("%data-esVoluntaria%",i);$(o).append(n),$(o).append(s),setMensaje(e,t,i,a,o)}function setPrimerModal(t,e,i,a){var o={secondaryButton:{enabled:!0,label:"CONTINUAR",onClickCallBack:function(e){mostrarProximaGuia(0,1)}}};i||(o.primaryButton={enabled:!0,label:"VER MÁS TARDE",onClickCallBack:function(e){guiaNoInteresa(t,i)}}),setModal(t,e,o,i,a)}function setModal(e,t,i,a,o){var n=t.mensaje.split("|");modal=$(document).HBModal({modalId:getIdGuia(e,t,a,o),header:{label:n[0]||""},body:n[1]||"",buttons:i})}function setSegundoYUltimoMensaje(e,t,i,a){var o=$('<div id="buttons"></div>'),n=botonFinalizar.replace("%data-codigo%",e).replace("%data-esVoluntaria%",i);$(o).append(n),$(o).append(espacio),setMensaje(e,t,i,a,o)}function setSegundoYUltimoMensajeBurbuja(e,t,i,a){var o=$('<div id="buttons"></div>'),n=botonFinalizar.replace("%data-codigo%",e).replace("%data-esVoluntaria%",i),s=botonAnterior.replace("%data-actual%",t.secuencia).replace("%data-proximo%",t.secuencia-1);$(o).append(n),$(o).append(s),$(o).append(espacio),setMensaje(e,t,i,a,o)}function setUltimoMensaje(e,t,i,a){var o=$('<div id="buttons"></div>'),n=botonFinalizar.replace("%data-codigo%",e).replace("%data-esVoluntaria%",i),s=botonAnterior.replace("%data-actual%",t.secuencia).replace("%data-proximo%",t.secuencia-1);$(o).append(n),$(o).append(s),$(o).append(espacio),setMensaje(e,t,i,a,o)}function setSegundoMensaje(e,t,i,a,o){var n=$('<div id="buttons"></div>'),s=botonSalir.replace("%data-codigo%",e).replace("%data-esVoluntaria%",i),r=botonSiguiente.replace("%data-actual%",t.secuencia).replace("%data-proximo%",t.secuencia+1),d=botonAnterior.replace("%data-actual%",t.secuencia).replace("%data-proximo%",t.secuencia-1);$(n).append(r),o&&$(n).append(d),$(n).append(s),$(n).append(espacio),setMensaje(e,t,i,a,n)}function setMensajeIntermedio(e,t,i,a){var o=$('<div id="buttons"></div>'),n=botonSalir.replace("%data-codigo%",e).replace("%data-esVoluntaria%",i),s=botonAnterior.replace("%data-actual%",t.secuencia).replace("%data-proximo%",t.secuencia-1),r=botonSiguiente.replace("%data-actual%",t.secuencia).replace("%data-proximo%",t.secuencia+1);$(o).append(n),$(o).append(r),$(o).append(s),$(o).append(espacio),setMensaje(e,t,i,a,o)}function setMensaje(e,t,i,a,o){o=(o=contentGuia.replace("%data-message%",t.mensaje).replace("%data-buttons%",$(o).html())).replace("%data-id%",getIdGuia(e,t,i,a)),e={html:!0,content:$(o).html(),container:"body",placement:function(){return getUbicacionGuia(t.ubicacion)},trigger:"manual"};listaMensajes.push({mensaje:t,contenido:o,popover:e})}function getTopOffset(e){return e-diferenciaPixels<=0?0:e-$(document).scrollTop()-diferenciaPixels}function ObtenerMensajesAMostrar(e){var n=[],s=0;return $.each(e,function(e,t){var i={},a=null,o=null;if($.each(t.AdjuntoA.split("|"),function(e,t){if($(t).is(":visible")&&guiaIsVisible($(t))&&guiaInWidthViewPort($(t)))return a=$(t),o=t,!1}),!isDefined(a)||null==a)return!0;i.asociadoA=a,i.asociadoASelector=o,i.mensaje=t.Mensaje,i.secuencia=s,i.id=t.Secuencia,i.ubicacion=t.Ubicacion,n.push(i),s++}),n.sort(function(e,t){return e.secuencia-t.secuencia})}function terminarGuia(t,e){e||$.ajax({url:"/Guia/TerminarGuia",dataType:"json",type:"POST",data:{codigo:t},error:function(e){OnJsError(e,!1,"Error al terminar la guia con código: "+t)},timeout:svcDefaultTimeoutMs}),cerrar()}function mostrarProximaGuia(e,t){lock||($(".mantle").removeClass("off"),$(".hole[data-secuencia='"+e+"']").popover("destroy"),$(".hole[data-secuencia='"+e+"']").remove(),mostrarGuia(getDataGuiaPorID(t)),lockGuia())}function getDataGuiaPorID(i){var a=null;return $.each(listaMensajes,function(e,t){if(t.mensaje.secuencia==i)return a=t,!1}),a}function mostrarGuia(e){var t=e.mensaje,i=t.asociadoA;(elementInViewport(i)?createHole:fixGuiaView)(e,i,t)}function createHole(e,t,i){var a=$(t).offset(),o=hole.replace("%data-id%",i.id).replace("%data-secuencia%",i.secuencia).replace("%data-ubicacion%",i.ubicacion).replace("%data-attachedto%",i.asociadoASelector),i='.hole[data-secuencia="'+i.secuencia+'"]',o=($(".mantle").append(o),getTopOffset(a.top)),n=(a=a.left-diferenciaPixels<=0?0:a.left-diferenciaPixels,$(t).outerWidth()+2*diferenciaPixels),t=$(t).outerHeight()+2*diferenciaPixels;$(i).css("top",o),$(i).css("left",a),$(i).css("width",n),$(i).css("height",t),$(i).append(e.contenido),$(i).popover(e.popover),$(i).removeClass("off"),$(i).popover("show")}function getIdGuia(e,t,i,a){return"guia-"+(i?"V":"N")+"-"+e+"-"+t.id+"-"+(t.secuencia+1)+"-"+a}function guiaNoInteresa(t,e){e||$.ajax({url:"/Guia/NoInteresaGuia",dataType:"json",type:"POST",data:{codigo:t},error:function(e){OnJsError(e,!1,"Error al clickear ver más tarde la guia con código: "+t)},timeout:svcDefaultTimeoutMs}),cerrar()}function getJsonGuia(t){return $.ajax({url:"/Guia/GetMensajesGuia",dataType:"json",type:"POST",data:{codigo:t},error:function(e){OnJsError(e,!1,"Error al obtener los mensajes de la guia con código: "+t)},timeout:svcDefaultTimeoutMs})}function cerrar(){$(".hole").popover("hide"),$(".hole").popover("destroy"),$(".hole").remove(),$(".mantle").remove(),$("body").removeClass("no-overflow"),guiaIniciada=!1}function getUbicacionGuia(e){var t="";if($(window).width()<1200)t="bottom";else switch(e){case 1:t="top";break;case 2:t="bottom";break;case 3:t="left";break;case 4:t="right"}return t+" auto"}function fixGuiaView(e,t,i){$("html, body").stop().animate({scrollTop:t.offset().top-100},200,"swing",function(){createHole(e,t,i)})}function guiaIsVisible(e){return!(e.width()<=0&&e.height()<=0)}function lockGuia(){lock=!0,setTimeout(function(){lock=!1},250)}function guiaInWidthViewPort(e){return 0<=e.offset().left}function elementInViewport(e,t){e=$(e),t=!!t;var i=$(window),a=i.width(),o=i.height(),n=i.scrollTop(),o=n+o,i=i.scrollLeft(),a=i+a,s=e.offset(),r=s.top+(t?e.height():0),d=s.top+(t?0:e.height()),c=s.left+(t?e.width():0),s=s.left+(t?0:e.width());return $(window).width()<1200&&$(".page-header").hasClass("fixed")&&(n+=50),-2<=o-d&&n-r<=2&&-2<=a-s&&i-c<=2}function fixHole(e,t){e=getTopOffset(e.offset().top);t.css("top",e)}